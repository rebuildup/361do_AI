# マルチエージェント学習システム ガイド

## 概要

4 つの異なる役割を持つエージェントが同時に会話し、相互学習を行うシステムです。8 時間のタイムリミットで継続的に実行され、エージェント間の知識共有と学習を促進します。

## エージェントの役割

### 1. リサーチャー (researcher)

- **性格**: 好奇心旺盛で新しい情報を探求する
- **専門分野**: 情報収集、分析、新しい知識の発見
- **会話スタイル**: 質問を多く投げかけ、深く掘り下げる

### 2. アナライザー (analyzer)

- **性格**: 論理的で体系的に物事を整理する
- **専門分野**: データ分析、パターン認識、構造化
- **会話スタイル**: 論理的に分析し、構造化して説明する

### 3. クリエイター (creator)

- **性格**: 創造的で新しいアイデアを生み出す
- **専門分野**: 創造的思考、アイデア生成、革新的解決策
- **会話スタイル**: 創造的な提案と斬新なアプローチを提示

### 4. オプティマイザー (optimizer)

- **性格**: 効率性を重視し、改善点を見つける
- **専門分野**: 最適化、効率化、品質向上
- **会話スタイル**: 改善提案と最適化案を積極的に提示

## システムの動作フロー

### 1. 初期化フェーズ

- 4 つのエージェントを並行初期化
- 各エージェントに専用のデータベース接続を設定
- 役割とパーソナリティを設定

### 2. 学習サイクル

各サイクルで以下を実行：

#### グループ会話 (2 ラウンド)

1. ランダムなトピックを選択
2. 各エージェントが順番に発言
3. 前の発言を考慮した対話を実行
4. 会話履歴を蓄積

#### 相互学習

1. 他のエージェントの発言から学習データを生成
2. 各エージェントの学習システムにデータを追加
3. 学習サイクルを実行
4. 知識の共有と統合

### 3. 継続実行

- 5 分間隔でサイクルを繰り返し
- 8 時間の制限時間まで継続
- リアルタイムで進捗を表示

## 使用方法

### 基本実行

```bash
python multi_agent_learning_system.py
```

### オプション付き実行

```bash
# 実行時間を4時間に設定
python multi_agent_learning_system.py --hours 4.0

# テストモード（6分間実行）
python multi_agent_learning_system.py --test-mode
```

### 停止方法

- `Ctrl+C` で安全に停止
- 時間制限到達で自動停止

## 出力ファイル

### ログファイル

- `multi_agent_learning_YYYYMMDD_HHMMSS.log`
- 詳細な実行ログを記録

### セッション結果

- `multi_agent_learning_session_YYYYMMDD_HHMMSS.json`
- 会話履歴、学習統計、エージェント別データを保存

## 会話トピック

システムが自動選択する議題：

- 効果的な学習方法について
- AI の未来と可能性
- 問題解決のアプローチ
- 知識の共有と活用
- 創造性と論理性のバランス
- データ分析の手法
- ユーザー体験の向上
- 技術革新のトレンド
- 効率的なワークフロー
- 品質向上の戦略

## 学習統計

システムが追跡する指標：

- 総会話数
- 学習サイクル数
- 知識共有数
- エージェント別発言数
- 学習貢献度
- 実行時間統計

## 進捗表示例

```
================================================================================
🔄 マルチエージェント学習サイクル 3
================================================================================
⏰ 実行中 (1.25/8.0時間)
💬 総会話数: 3
🧠 学習サイクル数: 3
🤝 知識共有数: 12

📊 エージェント別統計:
  リサーチャー:
    発言数: 6
    学習サイクル: 3
    知識貢献: 3
  アナライザー:
    発言数: 6
    学習サイクル: 3
    知識貢献: 3
  クリエイター:
    発言数: 6
    学習サイクル: 3
    知識貢献: 3
  オプティマイザー:
    発言数: 6
    学習サイクル: 3
    知識貢献: 3
================================================================================
```

## 技術仕様

### 並行処理

- 各エージェントは独立したプロセスで動作
- 非同期処理によるスケーラブルな実行
- リソース効率的な設計

### データ管理

- 各エージェント専用のデータベース接続
- 会話履歴の永続化
- 学習データの自動バックアップ

### エラーハンドリング

- 個別エージェントのエラーが全体に影響しない設計
- 自動復旧機能
- 詳細なエラーログ

## カスタマイズ

### エージェントの役割変更

`agent_roles` 辞書を編集してエージェントの性格や専門分野を変更可能

### 会話トピックの追加

`conversation_topics` リストに新しい議題を追加可能

### 学習間隔の調整

サイクル間の待機時間を変更可能（デフォルト: 5 分）

## トラブルシューティング

### よくある問題

1. **初期化エラー**

   - データベース接続を確認
   - 必要な依存関係がインストールされているか確認

2. **メモリ不足**

   - 4 つのエージェントが同時実行されるため、十分なメモリが必要
   - 不要なプロセスを終了

3. **ネットワークエラー**
   - Ollama サーバーの動作を確認
   - ネットワーク接続を確認

### ログの確認

詳細なエラー情報はログファイルで確認できます：

```bash
tail -f multi_agent_learning_*.log
```

## パフォーマンス最適化

### 推奨システム要件

- RAM: 8GB 以上
- CPU: 4 コア以上
- ストレージ: 2GB 以上の空き容量

### 最適化のヒント

- 不要なバックグラウンドプロセスを停止
- SSD の使用を推奨
- 十分な冷却環境を確保

## 今後の拡張予定

- エージェント数の動的変更
- カスタムエージェント役割の定義
- リアルタイム会話の可視化
- 学習効果の定量的評価
- 外部 API との連携機能
