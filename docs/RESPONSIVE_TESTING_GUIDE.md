# Responsive Design Testing Guide

## 概要

React Custom WebUI のレスポンシブデザインを様々なデバイスと画面サイズで検証するための包括的なテストガイドです。

## テスト対象デバイス

### デスクトップ

- **大型ディスプレイ**: 1920x1080px 以上
- **標準ディスプレイ**: 1366x768px - 1920x1080px
- **小型ディスプレイ**: 1024x768px - 1366x768px

### タブレット

- **iPad Pro**: 1024x1366px (縦), 1366x1024px (横)
- **iPad**: 768x1024px (縦), 1024x768px (横)
- **Android タブレット**: 800x1280px (縦), 1280x800px (横)

### モバイル

- **iPhone 14 Pro**: 393x852px
- **iPhone SE**: 375x667px
- **Android (大)**: 412x915px
- **Android (小)**: 360x640px

## ブレークポイント仕様

### 設計ブレークポイント

```css
/* Tailwind CSS ブレークポイント */
sm: 640px   /* モバイル (大) */
md: 768px   /* タブレット */
lg: 1024px  /* デスクトップ (小) */
xl: 1280px  /* デスクトップ (大) */
2xl: 1536px /* 大型ディスプレイ */

/* カスタムブレークポイント */
sidebar-collapse: 1056px /* 768px + 288px */
```

### レイアウト仕様

- **メインコンテンツ**: 最大 768px 幅
- **サイドバー展開**: 288px 幅
- **サイドバー折りたたみ**: 48px 幅
- **自動折りたたみ**: 1056px 未満

## テストケース

### 1. デスクトップテスト (>1056px)

#### 1.1 大型ディスプレイ (1920x1080px)

**期待される動作:**

- [ ] サイドバーが 288px 幅で展開表示
- [ ] メインコンテンツが 768px 幅で中央配置
- [ ] 余白が適切に配置される
- [ ] 全ての要素が適切にスケール

**テスト手順:**

1. ブラウザを全画面表示
2. サイドバーの展開/折りたたみ動作確認
3. チャットインターフェースの表示確認
4. 設定パネルの表示確認

#### 1.2 標準ディスプレイ (1366x768px)

**期待される動作:**

- [ ] サイドバーが 288px 幅で表示
- [ ] メインコンテンツが適切に表示
- [ ] スクロールが正常に動作
- [ ] UI 要素が重複しない

**テスト手順:**

1. 1366x768px にリサイズ
2. 全機能の動作確認
3. スクロール動作の確認
4. モーダル表示の確認

### 2. タブレットテスト (768px-1056px)

#### 2.1 iPad 横向き (1024x768px)

**期待される動作:**

- [ ] サイドバーが 48px 幅に自動折りたたみ
- [ ] メインコンテンツが 768px 幅で表示
- [ ] タッチ操作が正常に動作
- [ ] ホバー効果がタッチに適応

**テスト手順:**

1. ブラウザを 1024x768px にリサイズ
2. サイドバーの自動折りたたみ確認
3. タッチ操作のシミュレーション
4. メニュー操作の確認

#### 2.2 iPad 縦向き (768x1024px)

**期待される動作:**

- [ ] サイドバーが 48px 幅で表示
- [ ] メインコンテンツが全幅使用
- [ ] 縦スクロールが適切に動作
- [ ] キーボード表示時のレイアウト調整

**テスト手順:**

1. 768x1024px にリサイズ
2. 縦向きレイアウトの確認
3. 仮想キーボード表示のシミュレーション
4. 長いメッセージの表示確認

### 3. モバイルテスト (<768px)

#### 3.1 iPhone 14 Pro (393x852px)

**期待される動作:**

- [ ] サイドバーがオーバーレイ表示
- [ ] メインコンテンツが全幅使用
- [ ] タッチ操作が最適化
- [ ] フォントサイズが適切

**テスト手順:**

1. 393x852px にリサイズ
2. サイドバーオーバーレイの確認
3. タッチターゲットサイズの確認
4. テキスト入力の動作確認

#### 3.2 iPhone SE (375x667px)

**期待される動作:**

- [ ] 小画面でも全機能が利用可能
- [ ] UI 要素が適切にスケール
- [ ] スクロール性能が良好
- [ ] バッテリー消費が最適化

**テスト手順:**

1. 375x667px にリサイズ
2. 小画面での操作性確認
3. パフォーマンステスト
4. 長時間使用テスト

## 機能別テスト

### チャットインターフェース

#### デスクトップ

- [ ] メッセージ入力欄の適切なサイズ
- [ ] メッセージ履歴の表示
- [ ] ストリーミング表示の動作
- [ ] 推論セクションの展開/折りたたみ

#### タブレット

- [ ] タッチ操作での入力
- [ ] 仮想キーボード対応
- [ ] スワイプジェスチャー
- [ ] 画面回転時の対応

#### モバイル

- [ ] 片手操作の考慮
- [ ] 親指での操作範囲
- [ ] 自動スクロール
- [ ] 入力フィールドのフォーカス

### サイドバー

#### 展開状態 (>1056px)

- [ ] 288px 幅での表示
- [ ] 全メニュー項目の表示
- [ ] 設定パネルの表示
- [ ] セッション一覧の表示

#### 折りたたみ状態 (768px-1056px)

- [ ] 48px 幅での表示
- [ ] アイコンのみ表示
- [ ] ホバー時の展開
- [ ] クリック時の動作

#### オーバーレイ状態 (<768px)

- [ ] 全画面オーバーレイ
- [ ] 背景のぼかし効果
- [ ] 外側クリックで閉じる
- [ ] スワイプで閉じる

### 設定パネル

#### 各画面サイズでの確認

- [ ] モーダル表示の適切性
- [ ] フォーム要素の操作性
- [ ] 保存/キャンセル操作
- [ ] バリデーション表示

## パフォーマンステスト

### 描画性能

- [ ] 初期読み込み時間 (<3 秒)
- [ ] リサイズ時の応答性
- [ ] スクロール性能 (60fps)
- [ ] アニメーション性能

### メモリ使用量

- [ ] 初期メモリ使用量
- [ ] 長時間使用時のメモリリーク
- [ ] ガベージコレクション効率
- [ ] モバイルでのメモリ最適化

### ネットワーク

- [ ] 低速回線での動作
- [ ] オフライン時の動作
- [ ] 画像の遅延読み込み
- [ ] API 応答の最適化

## アクセシビリティテスト

### キーボードナビゲーション

- [ ] Tab 順序の適切性
- [ ] フォーカス表示の明確性
- [ ] ショートカットキーの動作
- [ ] スクリーンリーダー対応

### 視覚的アクセシビリティ

- [ ] コントラスト比の確認
- [ ] フォントサイズの調整可能性
- [ ] カラーブラインド対応
- [ ] 拡大表示対応

### 操作性

- [ ] タッチターゲットサイズ (44px 以上)
- [ ] ジェスチャー操作の代替手段
- [ ] 音声入力対応
- [ ] 振動フィードバック

## ブラウザ互換性テスト

### デスクトップブラウザ

- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

### モバイルブラウザ

- [ ] Mobile Chrome
- [ ] Mobile Safari
- [ ] Samsung Internet
- [ ] Firefox Mobile

### 古いブラウザ

- [ ] Chrome (1 年前)
- [ ] Safari (1 年前)
- [ ] 基本機能の動作確認
- [ ] グレースフルデグラデーション

## テスト自動化

### 自動テストツール

```javascript
// Playwright での画面サイズテスト例
const viewports = [
  { width: 1920, height: 1080, name: "Desktop Large" },
  { width: 1366, height: 768, name: "Desktop Standard" },
  { width: 1024, height: 768, name: "Tablet Landscape" },
  { width: 768, height: 1024, name: "Tablet Portrait" },
  { width: 393, height: 852, name: "Mobile Large" },
  { width: 375, height: 667, name: "Mobile Small" },
];

for (const viewport of viewports) {
  test(`Responsive test for ${viewport.name}`, async ({ page }) => {
    await page.setViewportSize(viewport);
    await page.goto("/");

    // レイアウトテスト
    await expect(page.locator('[data-testid="main-content"]')).toBeVisible();
    await expect(page.locator('[data-testid="sidebar"]')).toBeVisible();

    // 機能テスト
    await page.fill('[data-testid="message-input"]', "Test message");
    await page.click('[data-testid="send-button"]');
  });
}
```

### 継続的テスト

- [ ] CI/CD パイプラインでの自動テスト
- [ ] 複数ブラウザでの並列テスト
- [ ] パフォーマンス回帰テスト
- [ ] ビジュアル回帰テスト

## テスト報告

### テスト結果記録

```markdown
## テスト結果サマリー

### 実行日時: 2024-XX-XX

### テスト環境: [ブラウザ/OS 情報]

#### 合格率

- デスクトップ: XX/XX (XX%)
- タブレット: XX/XX (XX%)
- モバイル: XX/XX (XX%)

#### 発見された問題

1. [問題の説明]
   - 影響度: 高/中/低
   - 対象デバイス: [デバイス名]
   - 修正予定: [日付]

#### 推奨事項

1. [改善提案]
2. [最適化案]
```

### 継続的改善

- [ ] 定期的なテスト実行
- [ ] 新デバイス対応の検討
- [ ] ユーザーフィードバックの収集
- [ ] パフォーマンス最適化

## まとめ

レスポンシブデザインテストは、React Custom WebUI が様々なデバイスで最適な体験を提供するために不可欠です。このガイドに従って包括的なテストを実行し、全てのユーザーが快適にアプリケーションを利用できることを確認してください。

### 重要なポイント

1. **ブレークポイントの遵守**: 設計仕様通りの動作確認
2. **パフォーマンス**: 全デバイスでの快適な動作
3. **アクセシビリティ**: 全ユーザーの利用可能性
4. **継続的改善**: 定期的なテストと最適化

定期的なテスト実行により、高品質なレスポンシブ Web アプリケーションを維持できます。
