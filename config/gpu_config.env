# Advanced Self-Learning AI Agent GPU Configuration
# RTX 4050 (6GB VRAM) 向け最適化設定

# DeepSeek-R1 OLLAMA設定
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_PRIMARY_MODEL=deepseek-r1:7b
OLLAMA_FALLBACK_MODEL=qwen2.5:7b-instruct-q4_k_m
OLLAMA_EMERGENCY_MODEL=qwen2:1.5b-instruct-q4_k_m
OLLAMA_TIMEOUT=120

# GPU メモリ管理設定
OLLAMA_GPU_ENABLED=true
OLLAMA_GPU_MEMORY_FRACTION=0.83  # RTX 4050の場合は5GB/6GB = 83%
OLLAMA_GPU_LAYERS=32             # DeepSeek-R1に最適化
OLLAMA_PARALLEL_REQUESTS=1       # 6GB VRAMでは1並列が安全

# 動的量子化設定
QUANTIZATION_LEVELS=8,4,3
DEFAULT_QUANTIZATION=4
AUTO_QUANTIZATION_ENABLED=true

# メモリ監視設定
GPU_MEMORY_THRESHOLD=0.9
GPU_TEMPERATURE_THRESHOLD=80
MEMORY_CHECK_INTERVAL=1

# 永続的記憶システム設定
MEMORY_DATABASE_URL=sqlite:///data/agent_memory.db
VECTOR_DATABASE_URL=sqlite:///data/agent_vectors.db
ENABLE_PERSISTENT_MEMORY=true

# 進化的学習設定
EVOLUTIONARY_LEARNING_ENABLED=true
ADAPTER_POOL_SIZE=10
GENERATION_SIZE=5

# 使用方法:
# Windows PowerShell: 
#   Get-Content config/gpu_config.env | ForEach-Object { if($_ -match "^([^#][^=]+)=(.+)$") { [Environment]::SetEnvironmentVariable($matches[1], $matches[2]) } }
# Linux/Mac:
#   source config/gpu_config.env